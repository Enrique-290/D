<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dinamita POS ‚Äî Plus</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <aside id="sidebar" class="open">
    <div class="brand">
      <div class="logo">üí•</div>
      <div class="brand-text">
        <strong>DINAMITA POS</strong>
        <small>Versi√≥n Plus (local)</small>
      </div>
    </div>
    <nav>
      <button class="nav-link active" data-section="ventas">Ventas</button>
      <button class="nav-link" data-section="catalogo">Cat√°logo</button>
      <button class="nav-link" data-section="inventario">Inventario</button>
      <button class="nav-link" data-section="historial">Historial</button>
      <button class="nav-link" data-section="clientes">Clientes</button>
      <button class="nav-link" data-section="membresias">Control</button>
      <button class="nav-link" data-section="cafeteria">Cafeter√≠a</button>
      <button class="nav-link" data-section="admin">Admin</button>
    </nav>
    <footer>
      <small>¬© Dinamita Gym</small>
    </footer>
  </aside>

  <main id="content">
    <header>
      <button id="menuToggle" title="Abrir/cerrar men√∫">‚ò∞</button>
      <h1 id="sectionTitle">Ventas</h1>
    </header>

    <!-- Ventas -->
    <section id="ventas" class="section visible">
      <div class="grid two">
        <div class="card">
          <h2>Crear venta</h2>
          <div class="field">
            <label>Producto</label>
            <select id="ventaProducto"></select>
          </div>
          <div class="field">
            <label>Cantidad</label>
            <input type="number" id="ventaCantidad" min="1" value="1"/>
          </div>
          <div class="field">
            <label>Precio</label>
            <input type="number" id="ventaPrecio" step="0.01" min="0"/>
          </div>
          <div class="actions">
            <button id="agregarCarrito">Agregar</button>
            <button id="vaciarCarrito" class="secondary">Vaciar</button>
          </div>
        </div>

        <div class="card">
          <h2>Carrito</h2>
          <table id="tablaCarrito">
            <thead>
              <tr><th>Producto</th><th>Cant.</th><th>Precio</th><th>Importe</th><th></th></tr>
            </thead>
            <tbody></tbody>
            <tfoot>
              <tr><td colspan="3" class="right">Subtotal</td><td id="subTotal">$0.00</td><td></td></tr>
              <tr><td colspan="3" class="right">IVA (<span id="ivaPctLabel">0</span>%)</td><td id="ivaMonto">$0.00</td><td></td></tr>
              <tr><td colspan="3" class="right total">Total</td><td id="granTotal" class="total">$0.00</td><td></td></tr>
            </tfoot>
          </table>
          <div class="grid two">
            <div class="card soft">
              <h3>Pagos (divididos)</h3>
              <div id="pagosLista"></div>
              <div class="actions">
                <button id="addPago" class="secondary">Agregar pago</button>
                <span class="badge" id="pagadoMonto">$0.00</span>
              </div>
            </div>
            <div class="card soft">
              <h3>Datos de cliente</h3>
              <div class="field">
                <label>Cliente</label>
                <input id="clienteVenta" placeholder="Nombre o ID"/>
              </div>
            </div>
          </div>
          <div class="actions">
            <button id="btnCobrar" class="primary">Cobrar e Imprimir</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Cat√°logo -->
    <section id="catalogo" class="section">
      <div class="grid two">
        <div class="card">
          <h2>Agregar / Editar producto</h2>
          <input type="hidden" id="prodId"/>
          <div class="field"><label>Nombre</label><input id="prodNombre"/></div>
          <div class="field"><label>Precio</label><input type="number" step="0.01" id="prodPrecio"/></div>
          <div class="field"><label>Costo</label><input type="number" step="0.01" id="prodCosto"/></div>
          <div class="field"><label>Stock inicial</label><input type="number" id="prodStock" value="0"/></div>
          <div class="field"><label>Categor√≠a</label><input id="prodCategoria" placeholder="Suplementos, Accesorios..."/></div>
          <div class="field">
            <label>Foto (opcional)</label>
            <input type="file" id="prodFoto" accept="image/*"/>
            <img id="prodPreview" alt="preview" style="max-height:120px;margin-top:8px;display:none;border-radius:10px;border:1px solid #2a2a2a"/>
          </div>
          <div class="actions">
            <button id="btnGuardarProd" class="primary">Guardar</button>
            <button id="btnNuevoProd" class="secondary">Nuevo</button>
          </div>
        </div>
        <div class="card">
          <h2>Productos</h2>
          <table id="tablaProductos">
            <thead><tr><th>Foto</th><th>Nombre</th><th>Precio</th><th>Stock</th><th>Categor√≠a</th><th></th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Inventario -->
    <section id="inventario" class="section">
      <div class="card">
        <h2>Movimientos de inventario</h2>
        <table id="tablaInventario">
          <thead><tr><th>Producto</th><th>Stock</th><th>Entrada</th><th>Salida</th><th></th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Historial -->
    <section id="historial" class="section">
      <div class="card">
        <h2>Historial de ventas</h2>
        <table id="tablaHistorial">
          <thead>
            <tr><th>Fecha</th><th>Folio</th><th>Items</th><th>Pagos</th><th>Total</th><th>Ticket</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Clientes -->
    <section id="clientes" class="section">
      <div class="grid two">
        <div class="card">
          <h2>Nuevo cliente</h2>
          <div class="field"><label>Nombre</label><input id="cliNombre"/></div>
          <div class="field"><label>Tel√©fono</label><input id="cliTelefono"/></div>
          <div class="field"><label>Correo</label><input id="cliCorreo"/></div>
          <div class="actions"><button id="btnGuardarCliente" class="primary">Guardar</button></div>
        </div>
        <div class="card">
          <h2>Clientes</h2>
          <input id="buscarCliente" placeholder="Buscar..." />
          <table id="tablaClientes">
            <thead><tr><th>Nombre</th><th>Tel√©fono</th><th>Correo</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Membres√≠as (Control) -->
    <section id="membresias" class="section">
      <div class="grid two">
        <div class="card">
          <h2>Nueva membres√≠a</h2>
          <div class="field"><label>Cliente</label><input id="memCliente"/></div>
          <div class="field">
            <label>Tipo</label>
            <select id="memTipo">
              <option value="Visita">Visita</option>
              <option value="Semana">Semana</option>
              <option value="Mensualidad">Mensualidad</option>
              <option value="6 meses">6 meses</option>
              <option value="12 meses">12 meses</option>
            </select>
          </div>
          <div class="actions">
            <button id="btnCrearMembresia" class="primary">Crear</button>
          </div>
        </div>

        <div class="card">
          <h2>Membres√≠as</h2>
          <table id="tablaMembresias">
            <thead><tr><th>Cliente</th><th>Tipo</th><th>Inicio</th><th>Fin</th><th>Estado</th></tr></thead>
            <tbody></tbody>
          </table>
          <small>Colores: <span class="badge" style="background:#12331a;border-color:#144c1f">Activa</span> <span class="badge" style="background:#4a1111;border-color:#6a1616">Vencida</span></small>
        </div>
      </div>
    </section>

    <!-- Cafeter√≠a -->
    <section id="cafeteria" class="section">
      <div class="card">
        <h2>Cafeter√≠a (beta)</h2>
        <p>Usa el Cat√°logo para dar de alta bebidas/combos y v√©ndelos desde la secci√≥n <strong>Ventas</strong>. Aqu√≠ m√°s adelante agregamos tickets especiales y recetas.</p>
      </div>
    </section>

    <!-- Admin -->
    <section id="admin" class="section">
      <div class="grid two">
        <div class="card">
          <h2>Configuraci√≥n</h2>
          <div class="field"><label>IVA (%)</label><input type="number" id="cfgIVA" value="0"/></div>
          <div class="actions">
            <button id="btnGuardarCfg" class="primary">Guardar config</button>
          </div>
        </div>
        <div class="card">
          <h2>Respaldo de datos</h2>
          <div class="actions">
            <button id="btnExportar" class="primary">Exportar JSON</button>
            <label class="btn-file secondary">
              Importar JSON
              <input type="file" id="inputImportar" accept="application/json" hidden/>
            </label>
            <button id="btnBorrarTodo" class="danger">Borrar todo</button>
          </div>
          <small>Los datos se guardan en tu navegador con <code>localStorage</code>.</small>
        </div>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
